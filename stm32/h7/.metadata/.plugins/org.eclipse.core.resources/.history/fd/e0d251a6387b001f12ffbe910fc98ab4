#include "stm32h7xx.h"


void init_rcc(void)
{
	PWR->D3CR |= (3<<14);
	RCC->PLLCFGR = 0x1FF0AAA;
	RCC->PLLCKSELR = 0x505052;
	RCC->PLL1DIVR = (1<<24)|(3<<16)|(1<<9)|(159);
	RCC->PLL2DIVR = (1<<24)|(3<<16)|(1<<9)|(159);
	RCC->PLL3DIVR = (1<<24)|(3<<16)|(1<<9)|(159);
	FLASH->KEYR1 = 0x45670123;
	FLASH->KEYR2 = 0xCDEF89AB;
	FLASH->ACR = 0x1f;

	RCC->CR |= (1<<16);
	while(!(RCC->CR & (1<<17)));

	unsigned int tmp = RCC->CFGR;
	tmp &= ~(0b111);
	RCC->CFGR |=
}

